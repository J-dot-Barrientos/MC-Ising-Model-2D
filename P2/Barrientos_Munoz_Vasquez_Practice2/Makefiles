FC	:= gfortran
OPT	:= -O3

SRC	:= Variables.f90 r1279.f90 spin.f90 Measureament_Observable.f90 lattice.f90 table_data.f90 P1_MC.f90

OBJ	:= $(SRC:.f90=.o)
EXE	:= P1_MC.out

$(EXE): $(OBJ)
	$(FC) $(OPT) -o $(EXE) $(OBJ)

Variables.o: Variables.f90
	$(FC) $(OPT) -c Variables.f90

r1279.o: r1279.f90
	$(FC) $(OPT) -c r1279.f90

spin.o: spin.f90
	$(FC) $(OPT) -c spin.f90

Measureament_Observable.o: Measureament_Observable.f90
	$(FC) $(OPT) -c Measureament_Observable.f90
	
table_data.o: table_data.f90
	$(FC) $(OPT) -c table_data.f90
	
lattice.o: lattice.f90
	$(FC) $(OPT) -c lattice.f90

P1_MC.o: P1_MC.f90 Measureament_Observable.f90 lattice.f90 Variables.o
	$(FC) $(OPT) -c P1_MC.f90

.PHONY: clean run
clean:
	rm -f $(EXE) $(OBJ) *.mod

run: $(EXE)
	./$(EXE)
